BASEDATADIR="$1"

JAVACOMMAND="/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -javaagent:$HOME/.local/idea-ce/lib/idea_rt.jar=35209:$HOME/.local/idea-ce/bin -Dfile.encoding=UTF-8 -classpath $HOME/src/github/Metastring/data-reader/target/classes:$HOME/.m2/repository/org/apache/commons/commons-csv/1.8/commons-csv-1.8.jar:$HOME/.m2/repository/commons-cli/commons-cli/1.4/commons-cli-1.4.jar:$HOME/.m2/repository/org/mongodb/mongodb-driver/3.12.0/mongodb-driver-3.12.0.jar:$HOME/.m2/repository/org/mongodb/bson/3.12.0/bson-3.12.0.jar:$HOME/.m2/repository/org/mongodb/mongodb-driver-core/3.12.0/mongodb-driver-core-3.12.0.jar:$HOME/.m2/repository/org/postgresql/postgresql/42.2.9/postgresql-42.2.9.jar:$HOME/.m2/repository/org/hibernate/hibernate-core/5.4.12.Final/hibernate-core-5.4.12.Final.jar:$HOME/.m2/repository/org/jboss/logging/jboss-logging/3.3.2.Final/jboss-logging-3.3.2.Final.jar:$HOME/.m2/repository/javax/persistence/javax.persistence-api/2.2/javax.persistence-api-2.2.jar:$HOME/.m2/repository/org/javassist/javassist/3.24.0-GA/javassist-3.24.0-GA.jar:$HOME/.m2/repository/net/bytebuddy/byte-buddy/1.10.7/byte-buddy-1.10.7.jar:$HOME/.m2/repository/antlr/antlr/2.7.7/antlr-2.7.7.jar:$HOME/.m2/repository/org/jboss/spec/javax/transaction/jboss-transaction-api_1.2_spec/1.1.1.Final/jboss-transaction-api_1.2_spec-1.1.1.Final.jar:$HOME/.m2/repository/org/jboss/jandex/2.1.1.Final/jandex-2.1.1.Final.jar:$HOME/.m2/repository/com/fasterxml/classmate/1.5.1/classmate-1.5.1.jar:$HOME/.m2/repository/javax/activation/javax.activation-api/1.2.0/javax.activation-api-1.2.0.jar:$HOME/.m2/repository/org/dom4j/dom4j/2.1.1/dom4j-2.1.1.jar:$HOME/.m2/repository/org/hibernate/common/hibernate-commons-annotations/5.1.0.Final/hibernate-commons-annotations-5.1.0.Final.jar:$HOME/.m2/repository/org/hibernate/search/hibernate-search-mapper-orm/6.0.0.Beta5/hibernate-search-mapper-orm-6.0.0.Beta5.jar:$HOME/.m2/repository/org/hibernate/search/hibernate-search-engine/6.0.0.Beta5/hibernate-search-engine-6.0.0.Beta5.jar:$HOME/.m2/repository/org/hibernate/search/hibernate-search-mapper-pojo-base/6.0.0.Beta5/hibernate-search-mapper-pojo-base-6.0.0.Beta5.jar:$HOME/.m2/repository/org/hibernate/search/hibernate-search-util-common/6.0.0.Beta5/hibernate-search-util-common-6.0.0.Beta5.jar:$HOME/.m2/repository/org/jboss/logging/jboss-logging-processor/2.2.0.Final/jboss-logging-processor-2.2.0.Final.jar:$HOME/.m2/repository/org/jboss/logging/jboss-logging-annotations/2.2.0.Final/jboss-logging-annotations-2.2.0.Final.jar:$HOME/.m2/repository/org/jboss/jdeparser/jdeparser/2.0.3.Final/jdeparser-2.0.3.Final.jar:$HOME/.m2/repository/org/openjdk/jmh/jmh-generator-annprocess/1.23/jmh-generator-annprocess-1.23.jar:$HOME/.m2/repository/org/openjdk/jmh/jmh-core/1.23/jmh-core-1.23.jar:$HOME/.m2/repository/net/sf/jopt-simple/jopt-simple/4.6/jopt-simple-4.6.jar:$HOME/.m2/repository/org/apache/commons/commons-math3/3.2/commons-math3-3.2.jar:$HOME/.m2/repository/org/hibernate/search/hibernate-search-backend-elasticsearch/6.0.0.Beta5/hibernate-search-backend-elasticsearch-6.0.0.Beta5.jar:$HOME/.m2/repository/org/elasticsearch/client/elasticsearch-rest-client/7.6.0/elasticsearch-rest-client-7.6.0.jar:$HOME/.m2/repository/org/apache/httpcomponents/httpclient/4.5.10/httpclient-4.5.10.jar:$HOME/.m2/repository/org/apache/httpcomponents/httpcore/4.4.12/httpcore-4.4.12.jar:$HOME/.m2/repository/org/apache/httpcomponents/httpasyncclient/4.1.4/httpasyncclient-4.1.4.jar:$HOME/.m2/repository/org/apache/httpcomponents/httpcore-nio/4.4.12/httpcore-nio-4.4.12.jar:$HOME/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar:$HOME/.m2/repository/commons-logging/commons-logging/1.1.3/commons-logging-1.1.3.jar:$HOME/.m2/repository/org/elasticsearch/client/elasticsearch-rest-client-sniffer/7.6.0/elasticsearch-rest-client-sniffer-7.6.0.jar:$HOME/.m2/repository/com/google/code/gson/gson/2.8.5/gson-2.8.5.jar:$HOME/.m2/repository/org/jooq/jooq/3.13.1/jooq-3.13.1.jar:$HOME/.m2/repository/org/reactivestreams/reactive-streams/1.0.2/reactive-streams-1.0.2.jar:$HOME/.m2/repository/org/glassfish/jersey/inject/jersey-hk2/2.30/jersey-hk2-2.30.jar:$HOME/.m2/repository/org/glassfish/jersey/core/jersey-common/2.30/jersey-common-2.30.jar:$HOME/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:$HOME/.m2/repository/org/glassfish/hk2/osgi-resource-locator/1.0.3/osgi-resource-locator-1.0.3.jar:$HOME/.m2/repository/org/glassfish/hk2/hk2-locator/2.6.1/hk2-locator-2.6.1.jar:$HOME/.m2/repository/org/glassfish/hk2/external/aopalliance-repackaged/2.6.1/aopalliance-repackaged-2.6.1.jar:$HOME/.m2/repository/org/glassfish/hk2/hk2-api/2.6.1/hk2-api-2.6.1.jar:$HOME/.m2/repository/org/glassfish/hk2/hk2-utils/2.6.1/hk2-utils-2.6.1.jar:$HOME/.m2/repository/org/glassfish/jersey/containers/jersey-container-grizzly2-http/2.30/jersey-container-grizzly2-http-2.30.jar:$HOME/.m2/repository/org/glassfish/hk2/external/jakarta.inject/2.6.1/jakarta.inject-2.6.1.jar:$HOME/.m2/repository/org/glassfish/grizzly/grizzly-http-server/2.4.4/grizzly-http-server-2.4.4.jar:$HOME/.m2/repository/org/glassfish/grizzly/grizzly-http/2.4.4/grizzly-http-2.4.4.jar:$HOME/.m2/repository/org/glassfish/grizzly/grizzly-framework/2.4.4/grizzly-framework-2.4.4.jar:$HOME/.m2/repository/org/glassfish/jersey/core/jersey-server/2.30/jersey-server-2.30.jar:$HOME/.m2/repository/org/glassfish/jersey/core/jersey-client/2.30/jersey-client-2.30.jar:$HOME/.m2/repository/org/glassfish/jersey/media/jersey-media-jaxb/2.30/jersey-media-jaxb-2.30.jar:$HOME/.m2/repository/jakarta/validation/jakarta.validation-api/2.0.2/jakarta.validation-api-2.0.2.jar:$HOME/.m2/repository/jakarta/ws/rs/jakarta.ws.rs-api/2.1.6/jakarta.ws.rs-api-2.1.6.jar:$HOME/.m2/repository/org/glassfish/jersey/containers/jersey-container-grizzly2-servlet/2.30/jersey-container-grizzly2-servlet-2.30.jar:$HOME/.m2/repository/jakarta/servlet/jakarta.servlet-api/4.0.3/jakarta.servlet-api-4.0.3.jar:$HOME/.m2/repository/org/glassfish/grizzly/grizzly-http-servlet/2.4.4/grizzly-http-servlet-2.4.4.jar:$HOME/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet/2.30/jersey-container-servlet-2.30.jar:$HOME/.m2/repository/org/glassfish/jersey/containers/jersey-container-servlet-core/2.30/jersey-container-servlet-core-2.30.jar:$HOME/.m2/repository/org/glassfish/jersey/media/jersey-media-json-binding/2.30/jersey-media-json-binding-2.30.jar:$HOME/.m2/repository/org/glassfish/jakarta.json/1.1.5/jakarta.json-1.1.5.jar:$HOME/.m2/repository/org/eclipse/yasson/1.0.3/yasson-1.0.3.jar:$HOME/.m2/repository/jakarta/json/bind/jakarta.json.bind-api/1.0.2/jakarta.json.bind-api-1.0.2.jar:$HOME/.m2/repository/jakarta/json/jakarta.json-api/1.1.5/jakarta.json-api-1.1.5.jar:$HOME/.m2/repository/javax/xml/bind/jaxb-api/2.3.1/jaxb-api-2.3.1.jar:$HOME/.m2/repository/org/glassfish/jaxb/jaxb-runtime/2.3.3-b02/jaxb-runtime-2.3.3-b02.jar:$HOME/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.2/jakarta.xml.bind-api-2.3.2.jar:$HOME/.m2/repository/org/glassfish/jaxb/txw2/2.3.3-b02/txw2-2.3.3-b02.jar:$HOME/.m2/repository/com/sun/istack/istack-commons-runtime/3.0.10/istack-commons-runtime-3.0.10.jar:$HOME/.m2/repository/com/sun/activation/jakarta.activation/1.2.1/jakarta.activation-1.2.1.jar:$HOME/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar:$HOME/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar:$HOME/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar:$HOME/.m2/repository/org/elasticsearch/client/elasticsearch-rest-high-level-client/7.6.0/elasticsearch-rest-high-level-client-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch/7.6.0/elasticsearch-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch-core/7.6.0/elasticsearch-core-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch-secure-sm/7.6.0/elasticsearch-secure-sm-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch-x-content/7.6.0/elasticsearch-x-content-7.6.0.jar:$HOME/.m2/repository/org/yaml/snakeyaml/1.17/snakeyaml-1.17.jar:$HOME/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-smile/2.8.11/jackson-dataformat-smile-2.8.11.jar:$HOME/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-yaml/2.8.11/jackson-dataformat-yaml-2.8.11.jar:$HOME/.m2/repository/com/fasterxml/jackson/dataformat/jackson-dataformat-cbor/2.8.11/jackson-dataformat-cbor-2.8.11.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch-geo/7.6.0/elasticsearch-geo-7.6.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-core/8.4.0/lucene-core-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-analyzers-common/8.4.0/lucene-analyzers-common-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-backward-codecs/8.4.0/lucene-backward-codecs-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-grouping/8.4.0/lucene-grouping-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-highlighter/8.4.0/lucene-highlighter-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-join/8.4.0/lucene-join-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-memory/8.4.0/lucene-memory-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-misc/8.4.0/lucene-misc-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-queries/8.4.0/lucene-queries-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-queryparser/8.4.0/lucene-queryparser-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-sandbox/8.4.0/lucene-sandbox-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-spatial/8.4.0/lucene-spatial-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-spatial-extras/8.4.0/lucene-spatial-extras-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-spatial3d/8.4.0/lucene-spatial3d-8.4.0.jar:$HOME/.m2/repository/org/apache/lucene/lucene-suggest/8.4.0/lucene-suggest-8.4.0.jar:$HOME/.m2/repository/org/elasticsearch/elasticsearch-cli/7.6.0/elasticsearch-cli-7.6.0.jar:$HOME/.m2/repository/com/carrotsearch/hppc/0.8.1/hppc-0.8.1.jar:$HOME/.m2/repository/joda-time/joda-time/2.10.4/joda-time-2.10.4.jar:$HOME/.m2/repository/com/tdunning/t-digest/3.2/t-digest-3.2.jar:$HOME/.m2/repository/org/hdrhistogram/HdrHistogram/2.1.9/HdrHistogram-2.1.9.jar:$HOME/.m2/repository/org/elasticsearch/jna/4.5.1/jna-4.5.1.jar:$HOME/.m2/repository/org/elasticsearch/plugin/mapper-extras-client/7.6.0/mapper-extras-client-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/plugin/parent-join-client/7.6.0/parent-join-client-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/plugin/aggs-matrix-stats-client/7.6.0/aggs-matrix-stats-client-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/plugin/rank-eval-client/7.6.0/rank-eval-client-7.6.0.jar:$HOME/.m2/repository/org/elasticsearch/plugin/lang-mustache-client/7.6.0/lang-mustache-client-7.6.0.jar:$HOME/.m2/repository/com/github/spullara/mustache/java/compiler/0.9.6/compiler-0.9.6.jar:$HOME/.m2/repository/com/google/guava/guava/28.2-jre/guava-28.2-jre.jar:$HOME/.m2/repository/com/google/guava/failureaccess/1.0.1/failureaccess-1.0.1.jar:$HOME/.m2/repository/com/google/guava/listenablefuture/9999.0-empty-to-avoid-conflict-with-guava/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:$HOME/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:$HOME/.m2/repository/org/checkerframework/checker-qual/2.10.0/checker-qual-2.10.0.jar:$HOME/.m2/repository/com/google/errorprone/error_prone_annotations/2.3.4/error_prone_annotations-2.3.4.jar:$HOME/.m2/repository/com/google/j2objc/j2objc-annotations/1.3/j2objc-annotations-1.3.jar:$HOME/.m2/repository/commons-io/commons-io/2.6/commons-io-2.6.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-api/2.13.0/log4j-api-2.13.0.jar:$HOME/.m2/repository/org/apache/logging/log4j/log4j-core/2.13.0/log4j-core-2.13.0.jar:$HOME/.m2/repository/io/swagger/core/v3/swagger-jaxrs2/2.1.1/swagger-jaxrs2-2.1.1.jar:$HOME/.m2/repository/io/github/classgraph/classgraph/4.6.32/classgraph-4.6.32.jar:$HOME/.m2/repository/io/swagger/core/v3/swagger-models/2.1.1/swagger-models-2.1.1.jar:$HOME/.m2/repository/io/swagger/core/v3/swagger-annotations/2.1.1/swagger-annotations-2.1.1.jar:$HOME/.m2/repository/io/swagger/core/v3/swagger-integration/2.1.1/swagger-integration-2.1.1.jar:$HOME/.m2/repository/io/swagger/core/v3/swagger-core/2.1.1/swagger-core-2.1.1.jar:$HOME/.m2/repository/org/apache/commons/commons-lang3/3.7/commons-lang3-3.7.jar:$HOME/.m2/repository/org/slf4j/slf4j-api/1.7.25/slf4j-api-1.7.25.jar:$HOME/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.10.1/jackson-datatype-jsr310-2.10.1.jar:$HOME/.m2/repository/javax/validation/validation-api/1.1.0.Final/validation-api-1.1.0.Final.jar:$HOME/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-json-provider/2.10.1/jackson-jaxrs-json-provider-2.10.1.jar:$HOME/.m2/repository/com/fasterxml/jackson/jaxrs/jackson-jaxrs-base/2.10.1/jackson-jaxrs-base-2.10.1.jar:$HOME/.m2/repository/com/fasterxml/jackson/module/jackson-module-jaxb-annotations/2.10.1/jackson-module-jaxb-annotations-2.10.1.jar:$HOME/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.1/jakarta.activation-api-1.2.1.jar org.metastringfoundation.healthheatmap.Main"

for file in $BASEDATADIR/nfhs/nfhs-4/*.csv
do
    $JAVACOMMAND -p "$file"
done

AHS="$1/AHS/AHS.csv"
$JAVACOMMAND -p "$AHS"

